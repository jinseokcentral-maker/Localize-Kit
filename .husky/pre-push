#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ§ª Running tests before push..."
echo ""

# Run frontend tests (CI mode - run once and exit)
echo "ğŸ“¦ Running frontend tests..."
cd frontend && pnpm run test -- --run || {
  echo ""
  echo "âŒ Frontend tests failed"
  exit 1
}

# Run backend tests
echo ""
echo "ğŸ“¦ Running backend tests..."
cd ../backend && pnpm run test || {
  echo ""
  echo "âŒ Backend tests failed"
  exit 1
}

echo ""
echo "âœ… All tests passed! Pushing..."

